{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./refactoring.2/index.js","webpack:///./refactoring.2/App.js","webpack:///./refactoring.2/Grid.js","webpack:///./refactoring.2/Menu.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","App","_Grid","_interopRequireDefault","_Menu","_classCallCheck","this","grid","Grid","menu","Menu","keep","listenKeyDown","listenMouseSwitch","_this","$","keydown","e","showGameOver","keyCode","moveAndMergeToDirection","row_nb","setColorCells","showIfWinGame","direction","val","condition","limit","_this2","clone","final_clone","sort","a","b","reverse","move","map","getConditionsDirection","isset","merge","identique","rand","tab1","tab2","_this3","before","eq","empty","push","html","index","valeur","score","increaseCurrentScore","every","includes","x","y","xx","yy","ok","on","preventDefault","pageX","offsetLeft","pageY","offsetTop","clearTimeout","downTimer","setTimeout","mouseup","Math","abs","jQuery","Event","trigger","nb","init","localStorage","getItem","parseInt","createGrid","dimension","append","css","height","width","font-size","submit","number","setItem","each","background-color","text","color","pos","probability","floor","random","len","length","numero","Score","current","status","tab_best","location","reload","hide","mult","best","key1","key2","once","JSON","parse","login","overbook","display","saveScoreGamer","j","show","gamer","cote","pop","stringify"],"mappings":"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","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import App from './App.js'\n\nlet app = new App();","import Grid from './Grid.js'\nimport Menu from './Menu.js'\n\nclass App\n{\n    constructor()\n    {\n        this.grid = new Grid(4);\n        this.menu = new Menu(this.grid);\n        this.keep = true;\n        this.listenKeyDown();\n        this.listenMouseSwitch();\n    }\n\n    listenKeyDown () \n    {\n        $(\"body\").keydown((e) => {\n            this.menu.showGameOver();\n\n         \n             if (e.keyCode === 37)\n                 this.moveAndMergeToDirection('left', -1);\n             if (e.keyCode === 39)\n                 this.moveAndMergeToDirection('right', 1);\n             if (e.keyCode === 38)\n                 this.moveAndMergeToDirection('top', -this.grid.row_nb);\n             if (e.keyCode === 40)\n                 this.moveAndMergeToDirection('bottom', this.grid.row_nb);\n             this.grid.setColorCells();\n             this.menu.showIfWinGame();\n\n         }); \n    }\n\n  \n\n    getConditionsDirection(direction, val)\n    {\n        var condition;\n        if (direction == 'bottom')\n            condition = val + this.grid.row_nb < this.grid.row_nb * this.grid.row_nb;\n        if (direction == 'right')\n            condition = val % this.grid.row_nb !== this.grid.row_nb - 1;\n        if (direction == 'left')\n            condition = val % this.grid.row_nb !== 0;\n        if (direction == 'top')\n            condition = val / this.grid.row_nb >= 1;\n        \n        return condition;\n    }\n    \n    moveAndMergeToDirection(direction, limit)\n    {\n        var clone = [];\n        var final_clone = [];\n        var condition;\n\n        this.grid.grid.sort((a, b) => {\n            return a - b;\n        });\n        if (direction == 'bottom' || direction == 'right')\n            this.grid.grid.reverse();\n\n        this.move(this.grid.grid, clone, direction);\n        clone.map((val, i) => {\n            condition = this.getConditionsDirection(direction, val);\n            if (this.grid.isset(val) && this.grid.isset(val) === this.grid.isset(val + limit) && condition)\n                this.merge(i, val, clone, val + limit);\n        });\n        this.move(clone, final_clone, direction);\n        if (!this.identique(this.grid.grid, final_clone)) {\n            this.grid.grid = final_clone;\n            this.grid.rand();\n        }\n    }\n\n    move(tab1, tab2, direction) {\n        tab1.map((val) => {\n            var before = this.grid.isset(val);\n            $(\".grid-cell\").eq(val).empty();\n            if (direction === 'left') {\n                while (this.getConditionsDirection(direction, val) && !this.grid.isset(val - 1))\n                    val -= 1;\n            } else if (direction === 'right') {\n                while (this.getConditionsDirection(direction, val) && !this.grid.isset(val + 1))\n                    val += 1;\n            } else if (direction === 'top') {\n                while (this.getConditionsDirection(direction, val) && !this.grid.isset(val - this.grid.row_nb))\n                    val = val - this.grid.row_nb;\n            } else if (direction === 'bottom') {\n                while (this.getConditionsDirection(direction, val) && !this.grid.isset(val + this.grid.row_nb))\n                    val = val + this.grid.row_nb;\n            }\n            tab2.push(val);\n            $(\".grid-cell\").eq(val).html(before);\n        });\n    }\n\n    merge(index, valeur, tab2, move) \n    {\n        $(\".grid-cell\").eq(valeur).empty();\n        $(\".grid-cell\").eq(move).html(2 * this.grid.isset(move));\n        this.score.increaseCurrentScore(move);\n        tab2[index] = move;\n    }\n\n    identique(tab1, tab2) {\n        'use strict';\n        if (tab1.every(e => tab2.includes(e)))\n            return true;\n        return false;\n\n        // var i = 0;\n        // if (tab1.length !== tab2.length)\n        //     return false;\n        // while (i < tab1.length) \n        // {\n        //     if (tab1[i] !== tab2[i])\n        //         return false;\n        //     i += 1;\n        // }\n        // return true;\n    }\n\n    listenMouseSwitch()\n    {\n        var ok = false;\n        var x;\n        var y;\n        var xx;\n        var yy;\n    \n        $(\".grid-container\").on(\"mousedown\", function (e) {\n            e.preventDefault();\n            xx = e.pageX - this.offsetLeft;\n            yy = e.pageY - this.offsetTop;\n    \n            clearTimeout(this.downTimer);\n            this.downTimer = setTimeout(() => {\n                ok = true;\n                return ok;\n            }, 300);\n        }).mouseup(function (e) {\n            if (ok) {\n                x = e.pageX - this.offsetLeft;\n                y = e.pageY - this.offsetTop;\n                if (xx > x + 100 && Math.abs(yy - y) < 50) {\n                    e = jQuery.Event(\"keydown\");\n                    e.keyCode = 37;\n                    $(\".grid-container\").trigger(e);\n                } else if (xx < x + 100 && Math.abs(yy - y) < 50) {\n                    e = jQuery.Event(\"keydown\");\n                    e.keyCode = 39;\n                    $(\".grid-container\").trigger(e);\n                }\n                if (yy > y + 100 && Math.abs(xx - x) < 50) {\n                    e = jQuery.Event(\"keydown\");\n                    e.keyCode = 38;\n                    $(\".grid-container\").trigger(e);\n                } else if (yy < y + 100 && Math.abs(xx - x) < 50) {\n                    e = jQuery.Event(\"keydown\");\n                    e.keyCode = 40;\n                    $(\".grid-container\").trigger(e);\n                }\n            }\n            clearTimeout(setTimeout(() => {\n                ok = false;\n                return ok;\n            }, 300));\n            return ok;\n        });\n    }\n}\n\nexport { App as default};\n","class Grid\n{\n\n    constructor(nb)\n    {\n        this.row_nb;\n        this.grid = [];\n        this.init(nb);\n        \n    }\n\n    init(nb)\n    {\n        let row_nb = localStorage.getItem('number');\n        this.row_nb = row_nb ? parseInt(row_nb) : nb;\n        $('#number').val(this.row_nb);\n        this.createGrid();\n        this.rand();\n        this.rand();\n    }\n\n    createGrid()\n    {\n        var i = this.row_nb;\n        var dimension = 100 / (this.row_nb + 0.5);\n        while (i > 0) {\n            $(\".grid-container\").append('<div class=\"grid-row\">');\n            i -= 1;\n        }\n        i = this.row_nb;\n        while (i > 0) {\n            $('.grid-row').append('<div class=\"grid-cell\"></div>');\n            i -= 1;\n        }\n        $(\".grid-row\").css({'height': dimension + '%'});\n        $(\".grid-cell\").css({'width': dimension + '%'});\n        $(\".grid-cell\").css({'font-size': '5vw'});\n        $('#cote').submit(function () {\n            var number = $('#number').val();\n            localStorage.setItem('number', number);\n        });\n    }\n\n    setColorCells() {\n        'use strict';\n        $(\".grid-cell\").each(function () {\n            $(this).css({\"background-color\": \"\"});\n            switch ($(this).text()) {\n            case '':\n                $(this).css({\"background-color\": \"\"});\n                break;\n            case '2':\n                $(this).css({\"background-color\": \"rgb(238, 228, 218\"});\n                break;\n            case '4':\n                $(this).css({\"background-color\": \"rgb(237, 224, 200)\"});\n                break;\n            case '8':\n                $(this).css({\"background-color\": \"rgb(242, 177, 121)\"});\n                break;\n            case '16':\n                $(this).css({\"background-color\": \"rgb(245, 149, 99)\"});\n                break;\n            case '32':\n                $(this).css({\"background-color\": \"rgb(246, 124, 95)\"});\n                break;\n            case '64':\n                $(this).css({\"background-color\": \"rgb(246, 94, 59)\"});\n                break;\n            case '128':\n                $(this).css({\"background-color\": \"rgb(237, 207, 114)\"});\n                break;\n            case '256':\n                $(this).css({\"background-color\": \"rgb(237, 204, 97)\"});\n                break;\n            case '512':\n                $(this).css({\"background-color\": \"rgb(237, 200, 80)\"});\n                break;\n            case '1024':\n                $(this).css({\"background-color\": \"rgb(237, 196, 63)\"});\n                break;\n            case '2048':\n                $(this).css({\"background-color\": \"rgb(237, 194, 46)\"});\n                break;\n            default:\n                $(this).css({\"background-color\": \"rgb(237, 194, 30)\"});\n            }\n            if ($(this).text() === '4' || $(this).text() === '2') {\n                $(this).css({\"color\": \"rgb(119, 110, 101\"});\n            } else {\n                $(this).css({\"color\": \"white\"});\n            }\n        });\n    }\n\n    isset(pos) {\n        'use strict';\n        return $(\".grid-cell\").eq(pos).text();\n    }\n    \n    rand() {\n        var probability = Math.floor(Math.random() * (11 - 1) + 1);\n        var len = $(\".grid-cell\").length;\n        var random = Math.floor(Math.random() * (len - 0));\n        if (!this.isset(random)) \n        {\n            if (probability === 10) \n            {\n                $(\".grid-cell\").eq(random).html(4);\n            } else \n            {\n                $(\".grid-cell\").eq(random).html(2);\n            }\n            this.setColorCells();\n        } \n        else \n        {\n            return this.rand();\n        }\n        this.grid.push(random);\n    }\n\n     overbook() {\n        'use strict';\n        var numero;\n        var i = this.row_nb * this.row_nb - 1;\n        while (i !== 0) {\n            numero = parseInt(i) + parseInt(this.row_nb);\n            if (!this.isset(i))\n                return false;\n            if (this.isset(i) && this.isset(i) === this.isset(i + 1) && i % this.row_nb !== this.row_nb - 1)\n                return false;\n            if (this.isset(i) && this.isset(i) === this.isset(i - 1) && i % this.row_nb !== 0)\n                return false;\n            if (this.isset(i) && this.isset(i) === this.isset(i - this.row_nb) && i / this.row_nb >= 1)\n                return false;\n            if (this.isset(i) && this.isset(i) === this.isset(numero) && numero < this.row_nb * this.row_nb)\n                return false;\n            i -= 1;\n        }\n        return true;\n    }\n   \n}\n\nexport { Grid as default};\n\n","class Score\n{\n    constructor(grid)\n    {\n       this.current = 0;\n       this.grid = grid;\n       this.status = false;\n       this.init();\n       this.tab_best = [];\n    \n       $('.restart-button').on('click', () => {\n           location.reload();\n        });\n\n        $('#togo').on('click', () => {\n            $(\"#win\").hide();\n        });\n    }\n    increaseCurrentScore(mult) {\n        'use strict';\n        this.current += parseInt(this.grid.isset(mult));\n        $('#score').text(this.current);\n        var best = $('#best').text();\n        if (this.current >= best) {\n            $('#best').text(this.current);\n        }\n    }\n\n    sortByScore(key1, key2) {\n        'use strict';\n        return parseInt(key1.score) > parseInt(key2.score);\n    }\n    init()\n    {\n        \n        var once = false;\n    \n        if (!localStorage.getItem('best' + this.grid.row_nb)) {\n            $('#best').text(0);\n            $('#variable').append(\" - \" + this.grid.row_nb + 'x' + this.grid.row_nb);\n        } else {\n            this.tab_best = localStorage.getItem('best' + this.grid.row_nb);\n            this.tab_best = JSON.parse(this.tab_best);\n    \n            $('#variable').append(\" - \" + this.grid.row_nb + 'x' + this.grid.row_nb);\n            var i = 0;\n            while (i < this.tab_best.length) {\n                if (once === false) {\n                    $('#best').text(this.tab_best[i].score);\n                    once = true;\n                }\n                if ($(\".liste\" + this.grid.row_nb).length < 10) {\n                    $('#listes').append('<li class = \"liste' + this.grid.row_nb + '\">' + this.tab_best[i].login + ' : ' + this.tab_best[i].score + '</li>');\n                }\n                i += 1;\n            }\n        }\n    }\n    showGameOver()\n    {\n        this.current = parseInt($(\"#score\").text());\n        if (this.grid.overbook() && !this.status) {\n            $(\"#game_over\").css({'display': 'block'});\n            this.saveScoreGamer();\n            this.status = true;\n        }\n    }\n    showIfWinGame()\n    {\n            var j = (this.grid.row_nb * this.grid.row_nb) - 1;\n            while (j > 0) \n            {\n                if ($(\".grid-cell\").eq(j).text() === '2048' && this.keep) {\n                    $(\"#win\").show();\n                    this.keep = false;\n                }\n                j -= 1;\n            }\n    }\n    saveScoreGamer()\n    {\n        $('#login').submit(function (e) {\n            var gamer = {};\n            var login = $('#pseudo').val();\n            var score = $('#score').text();\n            gamer.login = login;\n            gamer.score = score;\n            gamer.cote = this.grid.row_nb;\n            if (this.tab_best.length === 10) {\n                if (parseInt(this.tab_best[this.tab_best.length - 1].score) < score) {\n                    this.tab_best.pop();\n                    this.tab_best.push(gamer);\n                }\n            }\n            if (this.tab_best.length < 10) {\n                this.tab_best.push(gamer);\n            }\n           // tab_best.sort(this.sortByScore);\n            this.tab_best.reverse();\n            localStorage.setItem('best' + this.grid.row_nb, JSON.stringify(this.tab_best));\n        });\n    }\n};\n\nexport { Score as default};\n\n"],"sourceRoot":""}